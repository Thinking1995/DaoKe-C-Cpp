<html>
<head>
  <title>3、文件函数 &lt;stdio.h&gt;</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601967 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5210"/>
<h1>3、文件函数 &lt;stdio.h&gt;</h1>

<div>
<span><div><div><font style="font-size: 36pt;"><span style="font-size: 36pt; font-weight: bold;">文件函数</span></font></div><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 49px;"></col><col style="width: 62px;"></col><col style="width: 191px;"></col><col style="width: 328px;"></col></colgroup><tbody><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">序号</font></span></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">返回值</font></span></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">文件操作函数</font></span></div></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">说明</font></span></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">1</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">long</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">ftell()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【二进制模式】</font></div><div><font style="font-size: 9pt;">【返回】位置指针距离文件开头的位置，发生错误时返回-1。</font></div><div><font style="font-size: 9pt;">【参数】</font></div><ul><li><div><font style="font-size: 9pt;">stream——文件指针。</font></div></li></ul></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">2</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">fseek()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream, </font></div></li><li><div><font style="font-size: 9pt;">long offset, </font></div></li><li><div><font style="font-size: 9pt;">int origi</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【二进制模式】</font></div><div><font style="font-size: 9pt;">【作用】调整文件指针位置。指向以origi为基准，偏移offset个字节。</font></div><div><font style="font-size: 9pt;">【返回】成功0，失败非零。</font></div><div><font style="font-size: 9pt;">【参数】</font></div><ul><li><div><font style="font-size: 9pt;">origi——见下表。</font></div></li></ul></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">3</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">ferror()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【作用】检查stream(流)中的错误，如果没发生错误返回0,否则返回非零。</font></div><div><font style="font-size: 9pt;">【注意】如果发生错误，使用perror()检测发生什么错误。</font></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">4</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">feof()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【作用】到达给出的文件流的文件尾时返回一个非零值。</font></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">5</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">fflush()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【作用】如果给出的文件流是一个输出流，那么fflush()把输出到缓冲区的内容写入文件；如果给出的文件流是输入类型的，那么fflush()会清除输入缓冲区。</font></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">6</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">fsetpos()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream, </font></div></li><li><div><font style="font-size: 9pt;">const fpos_t *position</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【作用】把给出的流的位置指针移到由position对象指定的位置。</font></div><div><font style="font-size: 9pt;">【返回】成功返回0，失败时返回非零。</font></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">7</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">fgetpos()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream,</font></div></li><li><div><font style="font-size: 9pt;">fpos_t *position</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【作用】保存给出的文件流(stream)的位置指针到给出的位置变量(position)中。</font></div><div><font style="font-size: 9pt;">【参数】</font></div><ul><li><div><font style="font-size: 9pt;"> position——fpos_t类型的(它在stdio.h中定义)并且是可以控制在FILE中每个可能的位置对象。</font></div></li></ul><div><font style="font-size: 9pt;">【返回】成功时返回0，失败时返回一个非零值。</font></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">8</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">void</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">clearerr()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【作用】重置错误标记和给出的流的EOF指针。</font></div></td></tr><tr><td style="vertical-align: middle; width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">9</font></div></td><td style="vertical-align: middle; width: 62px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><font style="font-size: 9pt;">void</font></div></td><td style="vertical-align: middle; width: 191px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">rewind()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; width: 328px; padding: 8px; border: 1px solid;"><div><font style="font-size: 9pt;">【二进制模式】</font></div><div><font style="font-size: 9pt;">【作用】文件指针移到由stream(流)指定的开始处，同时清除和流相关的错误和EOF标记。</font></div></td></tr></tbody></table><div><br/></div></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 49px;"></col><col style="width: 61px;"></col><col style="width: 191px;"></col><col style="width: 328px;"></col></colgroup><tbody><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">序号</font></span></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 61px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">返回值</font></span></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">文件读取函数</font></span></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">说明</font></span></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">1</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 61px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fgetc()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【文本模式】</font></div><div><font style="font-size: 9pt;">【返回】来自stream(流)中的下一个字符，如果到达文件尾或者发生错误时返回EOF。</font></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">2</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 61px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">char *</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fgets()</font></div><ul><li><div><font style="font-size: 9pt;">char *str，</font></div></li><li><div><font style="font-size: 9pt;">int num，</font></div></li><li><div><font style="font-size: 9pt;">FILE *strem</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【文本模式】</font></div><div><font style="font-size: 9pt;">【作用】给出的文件流中读取[num - 1]个字符并且把它们转储到str(字符串)中。读到换行符(\n)时就停止读取。</font></div><div><font style="font-size: 9pt;">读取到文件结束时，返回NULL。</font></div><div><font style="font-size: 9pt;">【参数】</font></div><ul><li><div><font style="font-size: 9pt;">str——存储数据的字符数组【必须指定大小】</font></div></li><li><div><font style="font-size: 9pt;">num——获取多少个字符。</font></div></li></ul></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">3</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 61px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fscanf()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream, </font></div></li><li><div><font style="font-size: 9pt;">const char *format, </font></div></li><li><div><font style="font-size: 9pt;">...</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【文本模式】</font></div><div><font style="font-size: 9pt;">【作用】以scanf()的执行方式从给出的文件流中读取数据..</font></div><div><font style="font-size: 9pt;">【返回】事实上已赋值的变量的数，未进行任何分配时返回EOF。</font></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">4</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 61px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fread()</font></div><ul><li><div><font style="font-size: 9pt;">void *buffer, </font></div></li><li><div><font style="font-size: 9pt;">size_t size, </font></div></li><li><div><font style="font-size: 9pt;">size_t num, </font></div></li><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【二进制模式】</font></div><div><font style="font-size: 9pt;">【作用】读取[num]个对象（每个对象大小为size(大小)指定的字节数），并把它们替换到由buffer(缓冲区)指定的数组。数据来自给出的输入流。</font></div><div><font style="font-size: 9pt;">【返回】读取的内容数量。</font></div><div><font style="font-size: 9pt;">【参数】</font></div><ul><li><div><font style="font-size: 9pt;">buffer——读入数据的存放地址。</font></div></li><li><div><font style="font-size: 9pt;">size——每个读取对象的大小（单位字节）。</font></div></li><li><div><font style="font-size: 9pt;">num——读取对象的个数。</font></div></li></ul></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 49px;"></col><col style="width: 62px;"></col><col style="width: 191px;"></col><col style="width: 328px;"></col></colgroup><tbody><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">序号</font></span></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 62px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">返回值</font></span></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">文件写入函数</font></span></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div style="text-align: center;"><span style="font-weight: bold;"><font style="font-size: 9pt;">说明</font></span></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">1</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 62px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fputc()</font></div><ul><li><div><font style="font-size: 9pt;">int ch, </font></div></li><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【文本模式】</font></div><div><font style="font-size: 9pt;">【作用】把给出的字符ch写到给出的输出流。</font></div><div><font style="font-size: 9pt;">【返回】字符，发生错误时返回值是EOF。</font></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">2</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 62px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fputs()</font></div><ul><li><div><font style="font-size: 9pt;">const char *str, </font></div></li><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【文本模式】</font></div><div><font style="font-size: 9pt;">【作用】把str(字符串)指向的字符写到给出的输出流.。</font></div><div><font style="font-size: 9pt;">【返回】成功时返回非负值, 失败时返回EOF。</font></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">3</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 62px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fprintf()</font></div><ul><li><div><font style="font-size: 9pt;">FILE *stream, </font></div></li><li><div><font style="font-size: 9pt;">const char *format, </font></div></li><li><div><font style="font-size: 9pt;">...</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【文本模式】</font></div><div><font style="font-size: 9pt;">【作用】根据指定的format(格式)发送信息(参数)到由stream(流)指定的文件。</font></div><div><font style="font-size: 9pt;">【返回】返回值是输出的字符数，发生错误时返回一个负值。</font></div></td></tr><tr><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 49px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">4</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 62px; padding: 8px;"><div style="text-align: center;"><font style="font-size: 9pt;">int</font></div></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 191px; padding: 8px;"><div><font style="font-size: 9pt;">fwrite()</font></div><ul><li><div><font style="font-size: 9pt;">const void *buffer, </font></div></li><li><div><font style="font-size: 9pt;">size_t size, </font></div></li><li><div><font style="font-size: 9pt;">size_t count, </font></div></li><li><div><font style="font-size: 9pt;">FILE *stream</font></div></li></ul></td><td style="vertical-align: middle; border: 1px solid rgb(204, 204, 204); width: 328px; padding: 8px;"><div><font style="font-size: 9pt;">【二进制模式】</font></div><div><font style="font-size: 9pt;">【作用】数组buffer(缓冲区)中，写count个为size大小的对象到stream(流)指定的流。</font></div><div><font style="font-size: 9pt;">【返回】是已写的对象的数量。</font></div></td></tr></tbody></table><ul><li><div>在内存与磁盘频繁交换数据时，应该使用fread()函数和fwrite()函数。<br/></div></li></ul><ul><li><div>fprintf()函数和fscanf()函数，读取时要将ASCII码转换为二进制形式，写入文件时又要将二进制形式转换为字符，耗费时间长。</div></li></ul><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 49px;"></col><col style="width: 89px;"></col><col style="width: 48px;"></col><col style="width: 123px;"></col></colgroup><tbody><tr><td style="width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt; font-weight: bold;">序号</span></div></td><td style="width: 89px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt; font-weight: bold;">origin值</span></div></td><td style="width: 48px; padding: 8px; border: 1px solid;"><div><span style="font-size: 9pt; font-weight: bold;">数值</span></div></td><td style="width: 123px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt; font-weight: bold;">说明</span></div></td></tr><tr><td style="width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">1</span></div></td><td style="width: 89px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">SEEK_SET</span></div></td><td style="width: 48px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">0</span></div></td><td style="width: 123px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">文件开头</span></div></td></tr><tr><td style="width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">2</span></div></td><td style="width: 89px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">SEEK_CUR</span></div></td><td style="width: 48px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">1</span></div></td><td style="width: 123px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">文件当前位置</span></div></td></tr><tr><td style="width: 49px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">3</span></div></td><td style="width: 89px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">SEEK_END</span></div></td><td style="width: 48px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">2</span></div></td><td style="width: 123px; padding: 8px; border: 1px solid;"><div style="text-align: center;"><span style="font-size: 9pt;">文件末尾</span></div></td></tr></tbody></table><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">交替读写的注意事项</span></div><ul><li><div>如果中间没有 fflush()、fseek()、fsetpos() 或 rewind()，则输出额后面不能直接跟随输入；</div></li><li><div>如果中间没有 fseek()、fsetpos() 或 rewind()，或者一个输出操作没有到达文件尾端，则在输入操作之后不能直接跟随输出。</div></li></ul></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>// fgetc()函数</b></div><div><b><br/></b></div><div>int ch;</div><div><br/></div><div>while((ch = fgetc(fp)) != EOF)            <b>// 循环读取文件的所有内容。</b></div><div>{</div><div>    printf(&quot;%c&quot;, c);</div><div>}</div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>// fputc()函数</b></div><div><br/></div><div>char ch;</div><div><br/></div><div>while((ch = getchar())!= '\n')      <b>// 每次从键盘读取一个字符并写入文件</b></div><div>{</div><div>    fputc(ch,fp);</div><div>}</div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>// fread()函数</b></div><div><br/></div><div>char buffer[1000];</div><div><br/></div><div>int size = 100;</div><div><br/></div><div>fread(buffer,size,1,fp);        <b>// 读取数据并存储到字符串中。</b></div><div><br/></div><div>printf(&quot;%s\n&quot;,buffer);         </div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>// fwrite()函数</b></div><div><br/></div><div>char *c = &quot;字符串&quot;;</div><div><br/></div><div>fwrite(c,strlen(c),1,fp);       <b>// 将字符串的数据拆分并分批写入到文件中。</b></div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">// fgets()函数</span></div><div><br/></div><div>char c1[1000];                 <span style="font-weight: bold;"> // 接收数据的字符数组</span></div><div><br/></div><div>fgets(c1, sizeof(c1), fp);      <span style="font-weight: bold;">// 存储文件的内容到指定字符串</span></div><div><br/></div><div>printf(&quot;%s\n&quot;,c1);</div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">// fputs()函数</span></div><div><br/></div><div>char *c1 = &quot;字符串&quot;;          </div><div> </div><div>fputs(c1,fp);                    <b>// 将字符串写入到文件中。</b></div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">// fprintf()函数</span></div><div>char *c1 = &quot;字符串&quot;;              <b>// 输出字符串指针</b></div><div><br/></div><div>if(fp != NULL){</div><div>    fprintf(fp,&quot;%s\n&quot;,c1);        <b>// 输出字符串到文件中。</b></div><div>}</div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><b>// fscanf()函数</b></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">char *c2;                                      <b>// 输入字符串指针</b></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">fscanf(fp,&quot;%[^EOF]&quot;,c2);             <b> // 将文件的所有内容输入到字符串指针中。  </b></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><b><br/></b></span></div></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 