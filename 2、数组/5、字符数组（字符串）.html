<html>
<head>
  <title>5、字符数组（字符串）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601967 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5144"/>
<h1>5、字符数组（字符串）</h1>

<div>
<span><div><div><span style="font-size: 36pt; font-weight: bold;">字符数组（字符串）</span></div><div><br/></div><div>C语言中使用 char类型数组 储存字符串。</div><ul><li><div>字符——单引号，且值不能为空。</div></li><li><div>字符串——双引号。</div></li></ul><div><br/></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">字符串数组</span><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">【</span><span style="font-size: 10pt; font-weight: bold;">使用率较低</span><span style="font-size: 10pt; font-weight: bold;">】</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char 数组名[容量] = {...} ;       <b>// 必须初始化，可以忽略数组容量，最后的必定是空字符\0</b></div></div><ul><li><div>字符串数组的容量至少比待存储字符串中的字符数多1，用于储存空字符\0；</div></li><li><div>所有未被使用的元素都被自动初始化为空字符\0；</div></li><li><div>空字符\0——用于标记字符串的结束，非打印字符，其ASCII码值是0。</div></li><li><div>建议使用const限定符【编译器可以用相同的地址替换每个字符串实例。将影响所有该字符串的代码，使其行为难以捉摸】</div></li><li><div><span style="font-weight: bold;">系统处理字符串时，每处理其中一个字符都要检查是否是一个空字符\0。</span></div></li></ul><div><br/></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">字符串常量</span><span style="font-size: 10pt; font-weight: bold;">【数组表示】</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char 数组名[容量] = &quot;字符串&quot; ;             <b>// 可以预留空位，方便以后修改</b></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>strcpy(字符数组名,&quot;字符串&quot;);                <b> // 等价于上一句。</b></div></div><ul><li><div>编译器会自动在末尾加上空字符\0【<span style="font-weight: bold;">容量至少比字符串的字符个数多1</span>】</div></li><li><div>编译器无法从词法或语法的角度来获得其所占内存空间的大小。</div></li><li><div><span style="font-weight: bold;">本质上就是将字符串常量复制给字符数组。</span></div></li><li><div>字符串常量属于静态存储类别（static  storage class），这说明如果在函数中使用字符串常量，该字符串只会被存储一次，在整个程序的生命周期内存在，即使函数被调用多次。</div></li><li><div>如果字符串常量之间没有间隔，或者用空白字符分隔，C会将其视为串联起来的字符串常量。</div></li><li><div><span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">不建议对字符串常量中的元素进行更改。</span></div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">字符串常量</span><span style="font-size: 10pt; font-weight: bold;">【指针表示】</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>const</b> char *指针名 = &quot;字符串&quot; ;             <b>// const限定符不能缺</b></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b>const</b> char *指针名;                        <b> // const限定符不能缺</b></div><div>指针名 = &quot;字符串&quot;;</div></div><ul><li><div>此处指针不能修改字符串常量的值。</div></li><li><div>字符串常量被视为const数据，只能赋值给指向const的指针。</div></li><ul><li><div>字符串常量==字符串存储地址，指针的值就是字符串常量。</div></li><li><div>解引用时将返回字符串的首字符。</div></li></ul></ul><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">打印</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char str[] = &quot;字符串&quot;;</div><div>printf(&quot;%s\n&quot;,str);</div><div>puts(str);</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char *p = &quot;字符串&quot;;</div><div>printf(&quot;%s\n&quot;,p);</div><div>puts(p);</div></div><div><br/></div><div><br/></div><div>gets()函数从STDIN(标准输入)读取字符并把它们加载到字符串中，知道遇到换行符\n或到达EOF。遇到\n后，不会存储\n，而是将其翻译为空字符'\0'。</div><div><br/></div><div>puts函数把字符串写入STDOURT。执行成功时返回非负值，执行失败时返回EOF。只能用于输出字符串，同时多打印一个换行符。</div><div><br/></div><div><br/></div><div>修改字符串的值</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char str[] = &quot;字符串&quot;;</div><div>strcpy(str,&quot;字符串2&quot;);            <b>// 需要添加 &lt;string.h&gt; 头文件。</b></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char *p = &quot;字符串1&quot;;</div><div>p = &quot;字符串2&quot;;</div></div><div><br/></div><div><br/></div><div><br/></div><div>修改字符串单个值</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char c[] = &quot;字符串&quot;;</div><div>c[下标] = &quot;新值&quot;;                <b>// 合法</b></div><div>c = &quot;新字符串&quot;;                  <b>// 非法，编译不通</b></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>char *p = &quot;字符串&quot;;</div><div>p[下标] = &quot;新值&quot;;                <b>// 非法，不可以对常量区数据进行修改。</b></div><div>p = &quot;新字符串&quot;;                  <b>// 合法</b></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 